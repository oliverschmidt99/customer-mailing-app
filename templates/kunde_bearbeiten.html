<!DOCTYPE html>
{% extends 'base.html' %}
{% block title %}Kunde bearbeiten{% endblock %}

{% block content %}
<h1>Kunde bearbeiten</h1>
<div class="card config-section active">
    <form action="{{ url_for('kunde_update', id=kunde.id) }}" method="post">
        <fieldset>
            <legend>Persönliche Informationen</legend>
            <div class="form-group"><label for="anrede">Anrede</label><input type="text" id="anrede" name="anrede"
                    value="{{ kunde.anrede or '' }}"></div>
            <div class="form-group"><label for="titel">Titel</label><input type="text" id="titel" name="titel"
                    value="{{ kunde.titel or '' }}"></div>
            <div class="form-group"><label for="vorname">Vorname</label><input type="text" id="vorname" name="vorname"
                    value="{{ kunde.vorname or '' }}"></div>
            <div class="form-group"><label for="nachname">Nachname</label><input type="text" id="nachname"
                    name="nachname" value="{{ kunde.nachname or '' }}" required></div>
        </fieldset>

        <fieldset>
            <legend>Adresse</legend>
            <div class="form-group"><label for="strasse">Straße</label><input type="text" id="strasse" name="strasse"
                    value="{{ kunde.strasse or '' }}"></div>
            <div class="form-group"><label for="postleitzahl">PLZ</label><input type="text" id="postleitzahl"
                    name="postleitzahl" value="{{ kunde.postleitzahl or '' }}"></div>
            <div class="form-group"><label for="ort">Ort</label><input type="text" id="ort" name="ort"
                    value="{{ kunde.ort or '' }}"></div>
            <div class="form-group"><label for="land">Land</label><input type="text" id="land" name="land"
                    value="{{ kunde.land or '' }}"></div>
        </fieldset>

        <fieldset>
            <legend>Sonstiges</legend>
            <div class="form-group">
                <label for="status">Status</label>
                <select id="status" name="status" required>
                    {% for s in status_optionen %}
                    <option value="{{ s }}" {% if s==kunde.status %}selected{% endif %}>{{ s }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="mitarbeiter_id">Zugeordneter Mitarbeiter</label>
                <select id="mitarbeiter_id" name="mitarbeiter_id">
                    <option value="">Kein Mitarbeiter</option>
                    {% for m in mitarbeiter %}
                    <option value="{{ m.id }}" {% if m.id==kunde.mitarbeiter_id %}selected{% endif %}>
                        {{ m.vorname }} {{ m.nachname }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group"><label for="anmerkungen">Anmerkungen</label><textarea id="anmerkungen"
                    name="anmerkungen">{{ kunde.anmerkungen or '' }}</textarea></div>
        </fieldset>

        <div class="button-group">
            <button type="submit">Änderungen speichern</button>
            <a href="{{ url_for('kunden_liste') }}" class="button secondary">Abbrechen</a>
        </div>
    </form>
</div>
{% endblock %}